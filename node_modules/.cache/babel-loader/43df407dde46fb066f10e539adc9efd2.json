{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/home/burslf/ITC/SKIN/SkinAI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/burslf/ITC/SKIN/SkinAI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/burslf/ITC/SKIN/SkinAI/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Modal from'react-modal';import{faArrowLeft}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import axios from'axios';import{useContext,useState}from'react';import{Form,Button}from'react-bootstrap';import{BASE_URL}from'../../App';import{Authentication}from'../../Contexts/Authentication';var SignupModal=function SignupModal(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];// Get input\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];// // Handle error from API\nvar _useContext=useContext(Authentication),isLogged=_useContext.isLogged,setIsLogged=_useContext.setIsLogged;var handleChange=function handleChange(e){setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},e.target.name,e.target.value)));};var signUp=function signUp(e){e.preventDefault();axios.post(\"\".concat(BASE_URL,\"/signup\"),input).then(function(res){if(res.status===200){setIsLogged(true);localStorage.setItem('token',res.data.token);localStorage.setItem('sessionID',res.data.user._id);}}).catch(function(err){var error=err.response.data;// Define error message based on API\nvar errorType=error.message||error.firstName||error.lastName||error.phone;if(err.response.status==409){setError(errorType);}});};var errorStyle={color:'#d10000',fontSize:'18px',marginTop:'10px',padding:'7px',borderRadius:'9px',backgroundColor:'whitesmoke'};var goToLogin=function goToLogin(){props.setIsSignupOpen(false);props.setIsLoginOpen(true);};return/*#__PURE__*/_jsxs(Modal,{isOpen:props.isSignupOpen,onRequestClose:props.closeSignup,style:props.modalStyle,contentLabel:\"Example Modal\",closeLogin:props.closeSignup,children:[/*#__PURE__*/_jsx(\"span\",{onClick:goToLogin,className:\"modal-close-btn\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowLeft})}),/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',color:'#434343'},children:\"Signup\"}),/*#__PURE__*/_jsxs(Form,{className:\"login-form\",onSubmit:signUp,children:[/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"confirmPassword\",placeholder:\"Confirm password\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(Form.Control,{name:\"firstName\",placeholder:\"First name\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(Form.Control,{name:\"lastName\",placeholder:\"Last name\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(Form.Control,{name:\"phone\",placeholder:\"Phone number\",onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"login-btn\",children:\" Signup \"}),error&&/*#__PURE__*/_jsxs(\"span\",{style:errorStyle,children:[\" \",error,\" \"]})]})]});};export default SignupModal;","map":{"version":3,"sources":["/home/burslf/ITC/SKIN/SkinAI/src/Components/Modals/SignupModal.jsx"],"names":["Modal","faArrowLeft","FontAwesomeIcon","axios","useContext","useState","Form","Button","BASE_URL","Authentication","SignupModal","props","input","setInput","error","setError","isLogged","setIsLogged","handleChange","e","target","name","value","signUp","preventDefault","post","then","res","status","localStorage","setItem","data","token","user","_id","catch","err","response","errorType","message","firstName","lastName","phone","errorStyle","color","fontSize","marginTop","padding","borderRadius","backgroundColor","goToLogin","setIsSignupOpen","setIsLoginOpen","isSignupOpen","closeSignup","modalStyle","textAlign"],"mappings":"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","sourcesContent":["import Modal from 'react-modal';\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport axios from 'axios'\nimport { useContext, useState } from 'react'\nimport {Form, Button} from 'react-bootstrap'\nimport {BASE_URL} from '../../App'\nimport { Authentication } from '../../Contexts/Authentication'\n\nconst SignupModal = (props) => {\n    const [input, setInput] = useState(null)  // Get input\n    const [error, setError] = useState(null) // // Handle error from API\n\n    const {isLogged, setIsLogged} = useContext(Authentication)\n\n    const handleChange = (e) => {\n        setInput({...input, [e.target.name] : e.target.value})\n    }\n    const signUp = (e) => {\n        e.preventDefault()\n        axios.post(`${BASE_URL}/signup`, input)\n        .then(res => {\n            if (res.status === 200) {\n                setIsLogged(true)\n                localStorage.setItem('token', res.data.token)\n                localStorage.setItem('sessionID', res.data.user._id)\n            }\n        })\n        .catch(err => {\n            const error = err.response.data\n            // Define error message based on API\n            const errorType = error.message || error.firstName || error.lastName || error.phone \n            if(err.response.status == 409) {\n                setError(errorType)\n            }\n        })\n    }\n\n    const errorStyle = {\n        color: '#d10000', \n        fontSize: '18px', \n        marginTop: '10px', \n        padding: '7px',\n        borderRadius: '9px',\n        backgroundColor: 'whitesmoke'\n    }\n\n    const goToLogin = () => {\n        props.setIsSignupOpen(false)\n        props.setIsLoginOpen(true)\n    }\n\n    return (\n        <Modal\n        isOpen={props.isSignupOpen}\n        onRequestClose={props.closeSignup}\n        style={props.modalStyle}\n        contentLabel=\"Example Modal\"\n        closeLogin={props.closeSignup}\n          >\n        <span onClick={goToLogin} className='modal-close-btn'><FontAwesomeIcon icon={faArrowLeft}/></span>\n        <h2 style={{textAlign: 'center', color: '#434343'}}>Signup</h2>\n        <Form className ='login-form' onSubmit={signUp}>\n            <Form.Control type=\"email\" name=\"email\" placeholder=\"Email\" onChange={e=>handleChange(e)}/>\n            <Form.Control type=\"password\" name=\"password\" placeholder=\"Password\" onChange={e=>handleChange(e)}/>\n            <Form.Control type=\"password\" name=\"confirmPassword\" placeholder=\"Confirm password\" onChange={e=>handleChange(e)}/>\n            <Form.Control name=\"firstName\" placeholder=\"First name\" onChange={e=>handleChange(e)}/>\n            <Form.Control name=\"lastName\" placeholder=\"Last name\" onChange={e=>handleChange(e)}/>\n            <Form.Control name=\"phone\" placeholder=\"Phone number\" onChange={e=>handleChange(e)}/>\n            <Button type='submit' className=\"login-btn\"> Signup </Button>\n            {error && <span style={errorStyle}> {error} </span>}\n        </Form>\n        </Modal>\n    )\n}\n\nexport default SignupModal"]},"metadata":{},"sourceType":"module"}